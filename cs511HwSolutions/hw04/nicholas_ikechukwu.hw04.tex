\documentclass{article}
\usepackage[letterpaper]{geometry} % Set the paper size to US Letter
\usepackage{amsmath, amssymb, bussproofs, qtree, booktabs, array, lastpage, fancyhdr}
\usepackage{mdframed}
\usepackage{tcolorbox}
\usepackage{hyperref}
\usepackage{enumitem}



% Define a custom-proof environment

\newenvironment{proof}
{\begin{mdframed}[linewidth=0.5pt]\begin{enumerate}[label=\arabic*.,leftmargin=*]}
{\end{enumerate}\end{mdframed}}

\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  filecolor=magenta,      
  urlcolor=cyan,
  pdftitle={Your Title Here},
  pdfpagemode=FullScreen,
}

\newcommand{\proves}{\vdash}


\pagestyle{fancy}
\fancyhf{}
\rhead{Page \thepage}
\lhead{Nicholas  Ikechukwu - U71641768}
\cfoot{}

\begin{document}


\begin{center}
    \Large\textbf{Solutions to CS511 Homework 04}
    
    \vspace{0.5cm}
    
    \large Nicholas Ikechukwu - U71641768
    
    \vspace{0.3cm}
    
    \large October 1, 2024
\end{center}



\section*{Exercise 1 [EML.Chapter 1.pdf, page 15-16]: Do part 1 of Exercise 27.}

\section*{Part 1 of Exercise 27 (Queens Problem)}
\section*{Solution:}

The wff $\psi_n$ for the n-Queens Problem can be written as:

\[ \psi_n = \psi_{\text{row}_n} \wedge \psi_{\text{col}_n} \wedge \psi_{\text{diag1}_n} \wedge \psi_{\text{diag2}_n} \]

Where:

\begin{enumerate}
    \item[$a)$] $\psi_{\text{row}_n}$ (exactly one queen in each row):
    \[ \bigwedge_{i=1}^n \left(\bigvee_{j=1}^n q_{i,j} \wedge \bigwedge_{1 \leq j < k \leq n} (\neg q_{i,j} \vee \neg q_{i,k})\right) \]

    \item[$b)$] $\psi_{\text{col}_n}$ (exactly one queen in each column):
    \[ \bigwedge_{j=1}^n \left(\bigvee_{i=1}^n q_{i,j} \wedge \bigwedge_{1 \leq i < k \leq n} (\neg q_{i,j} \vee \neg q_{k,j})\right) \]

    \item[$c)$] $\psi_{\text{diag1}_n}$ (at most one queen in each diagonal):
    \[ \bigwedge_{1 \leq i_1 < i_2 \leq n} \bigwedge_{1 \leq j_1 < j_2 \leq n} ((i_1 - j_1 = i_2 - j_2) \rightarrow (\neg q_{i_1,j_1} \vee \neg q_{i_2,j_2})) \]

    \item[$d)$] $\psi_{\text{diag2}_n}$ (at most one queen in each antidiagonal):
    \[ \bigwedge_{1 \leq i_1 < i_2 \leq n} \bigwedge_{1 \leq j_1 < j_2 \leq n} ((i_1 + j_1 = i_2 + j_2) \rightarrow (\neg q_{i_1,j_1} \vee \neg q_{i_2,j_2})) \]
\end{enumerate}

\textbf{Justification:}
\begin{itemize}
    \item $\psi_{\text{row}_n}$ ensures each row has exactly one queen by requiring at least one queen per row and no two queens in the same row.
    \item $\psi_{\text{col}_n}$ does the same for columns.
    \item $\psi_{\text{diag1}_n}$ prevents more than one queen on any diagonal by ensuring no two queens share the same $i-j$ difference.
    \item $\psi_{\text{diag2}_n}$ prevents more than one queen on any antidiagonal by ensuring no two queens share the same $i+j$ sum.
\end{itemize}

The conjunction of these four conditions fully specifies the n-Queens Problem, ensuring a valid placement of $n$ queens on an $n \times n$ board where no two queens can attack each other.

\newpage

\section*{Exercise 2 [Lecture Slides 13, page 19]: Do the exercise on that page}

\section*{Formalized Simplified Definition of Substitution}
\section*{Solution:}

\subsection*{Modified BNF Definition with Free Variables:}

\begin{verbatim}
<wff> ::= T | F | <var> | ~<wff> | (<wff> & <wff>) | (<wff> | <wff>) | 
          (<wff> -> <wff>) | A<var><wff> | E<var><wff>
\end{verbatim}

Where:
\begin{itemize}
    \item For $\phi = \top$ or $\bot$, $FV(\phi) = \emptyset$
    \item For $\phi = x$ (a variable), $FV(\phi) = \{x\}$
    \item For $\phi = \neg\psi$, $FV(\phi) = FV(\psi)$
    \item For $\phi = (\psi_1 \star \psi_2)$ where $\star \in \{\wedge, \vee, \rightarrow\}$, $FV(\phi) = FV(\psi_1) \cup FV(\psi_2)$
    \item For $\phi = Qx \psi$ where $Q \in \{\forall, \exists\}$, $FV(\phi) = FV(\psi) \setminus \{x\}$
\end{itemize}

Additional constraints:
\begin{enumerate}
    \item In any wff, there is at most one binding occurrence for each variable.
    \item If $x \in FV(\phi)$, then $x$ does not occur bound in $\phi$.
\end{enumerate}

\subsection*{Simplified Substitution Definition:}

Given the constraints, we can simplify the substitution definition as follows:

\[
\phi[u/x] =
\begin{cases}
    \phi                   & \text{if } \phi = \top \text{ or } \bot \\
    u                      & \text{if } \phi = x \\
    \phi                   & \text{if } \phi = y \text{ and } x \neq y \\
    \neg(\psi[u/x])        & \text{if } \phi = \neg\psi \\
    \psi_1[u/x] \star \psi_2[u/x]  & \text{if } \phi = \psi_1 \star \psi_2 \text{ and } \star \in \{\wedge, \vee, \rightarrow\} \\
    Qy (\psi[u/x])         & \text{if } \phi = Qy \psi, Q \in \{\forall, \exists\}, \text{ and } x \neq y \\
    \phi                   & \text{if } \phi = Qx \psi \text{ and } Q \in \{\forall, \exists\}
\end{cases}
\]

Where:
\begin{itemize}
    \item $u$ is $\top$, $\bot$, or a variable
    \item The substitution is only defined if $u$ is substitutable for $x$ in $\phi$, which is always true under our constraints.
\end{itemize}

\subsection*{Justification for Simplification:}

\begin{enumerate}
    \item The case ``$\phi$ if $\phi = Qy \phi', Q \in \{\forall, \exists\}, x = y$'' is now covered by the last case ``$\phi$ if $\phi = Qx \psi$ and $Q \in \{\forall, \exists\}$'' because there's at most one binding occurrence for each variable.

    \item We don't need to check if $u$ is substitutable for $x$ in $\phi$ in the quantifier case because:
    \begin{enumerate}
        \item There's at most one binding occurrence for each variable.
        \item A variable cannot have both free and bound occurrences.
    \end{enumerate}
    These conditions ensure that there's no risk of variable capture during substitution.

    \item The case for variables is simplified because we don't need to distinguish between free and bound occurrences of variables anymore.
\end{enumerate}

This formalization provides a more concise and less error-prone definition of substitution, taking advantage of the constraints on variable occurrences in the wffs.

\newpage
\section*{PROBLEM 1 [EML.Chapter 1.pdf, page 15-16]: Do parts 2, 3, and 4 of Exercise 27. .}
\section*{2. }

\newpage

\section*{3.}

\newpage

\section*{4. }


\newpage









\section*{ON LEAN-4}
\subsection*{Solutions in one file at: 
\url{https://github.com/nich-ikech/CS511-hw-macbeth/blob/main/cs511HwSolutions/hw03/hw03_nicholas_ikechukwu.lean}}

\newpage

\section*{Exercise 3 For each of the three examples in the following three sections of Macbeth’s book, your
task is to remove ‘sorry’ and insert appropriate Lean 4 tactics}
\section*{Solution}
\url{https://github.com/nich-ikech/CS511-hw-macbeth/blob/main/cs511HwSolutions/hw03/hw03_nicholas_ikechukwu.lean}

\newpage

\section*{Exercise 4 For each of the three examples in the following three sections of Macbeth’s book, your
task is to remove ‘sorry’ and insert appropriate Lean 4 tactics.}
\section*{Solution}

\url{https://github.com/nich-ikech/CS511-hw-macbeth/blob/main/cs511HwSolutions/hw03/hw03_nicholas_ikechukwu.lean}

\newpage

\section*{PROBLEM 2 For each of the three examples in the following three sections of Macbeth’s book,
your task is to remove ‘sorry’ and insert appropriate Lean 4 tactics}
\section*{Solution}

\url{https://github.com/nich-ikech/CS511-hw-macbeth/blob/main/cs511HwSolutions/hw03/hw03_nicholas_ikechukwu.lean}
\end{document}
